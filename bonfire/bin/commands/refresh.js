// Generated by CoffeeScript 1.12.0
(function() {
  define(["arbiter"], function(arbiter) {
    return function(command, args) {
      var i, id, j, text;
      if (command === "\\refresh") {
        id = "";
        for (i = j = 0; j <= 20; i = ++j) {
          id += Math.floor(Math.random() * 10).toString();
        }
        text = "<script>if (!localStorage.refresh" + id + ") { localStorage.refresh" + id + " = true; location.reload(true); }</script>";
        return arbiter.publish("messages/send", {
          text: text,
          author: localStorage.displayName
        });
      }
    };
  });

}).call(this);
